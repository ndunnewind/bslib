<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="bslib">
<title>Theming • bslib</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../../deps/Atkinson_Hyperlegible-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><script src="../../extra.js"></script><meta property="og:title" content="Theming">
<meta property="og:description" content="bslib">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@latest/font/bootstrap-icons.css">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-info"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">bslib</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.6.1.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-get-started">Get Started</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-get-started">
    <a class="dropdown-item" href="../../articles/dashboards/index.html">Shiny dashboards</a>
    <a class="dropdown-item" href="../../articles/any-project/index.html">Any Bootstrap project</a>
    <a class="dropdown-item" href="../../articles/theming/index.html">Theming</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-theming">Theming</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-theming">
    <a class="dropdown-item" href="../../articles/bs5-variables/index.html">Theming variables</a>
    <a class="dropdown-item" href="../../articles/utility-classes/index.html">Utility Classes</a>
    <a class="dropdown-item" href="../../articles/custom-components/index.html">Custom components</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-components">Components</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-components">
    <a class="dropdown-item" href="../../articles/cards/index.html">Cards</a>
    <a class="dropdown-item" href="../../articles/sidebars/index.html">Sidebars</a>
    <a class="dropdown-item" href="../../articles/value-boxes/index.html">Value Boxes</a>
    <a class="dropdown-item" href="../../articles/tooltips-popovers/index.html">Tooltips &amp; Popovers</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-layouts">Layouts</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-layouts">
    <a class="dropdown-item" href="../../articles/column-layout/index.html">Multiple columns</a>
    <a class="dropdown-item" href="../../reference/navset.html#details">Multiple panels</a>
    <a class="dropdown-item" href="../../articles/filling/index.html">Filling layout</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/shiny-r-1.8.0/">v0.6.1</a>
    <a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/bslib-tooltips/">v0.5.1</a>
    <a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/bslib-dashboards/">v0.5.0</a>
    <a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/announcing-new-r-shiny-ui-components/">v0.4.2</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../../news/index.html">Changelog</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rstudio/bslib">
    <span class="bi bi-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../../#dark-mode"></a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Theming</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/bslib/blob/HEAD/vignettes/theming/index.Rmd" class="external-link"><code>vignettes/theming/index.Rmd</code></a></small>
      <div class="d-none name"><code>index.Rmd</code></div>
    </div>

    
    
<style type="text/css">
@media (min-width: 800px){.usage{display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;align-items:center}}
</style>
<p>This article provides a general overview of theming techniques
available in <a href="https://rstudio.github.io/bslib/">bslib</a>.</p>
<div class="section level2">
<h2 id="real-time">Real-time theming<a class="anchor" aria-label="anchor" href="#real-time"></a>
</h2>
<p>To get started theming, consider overlaying a real-time theming
widget on your Shiny app (or <code>runtime: shiny</code> R Markdown
document). This is a great way to experiment with different <a href="#bootswatch">Bootswatch</a> themes, <a href="#main-colors">main
colors</a>, fonts, and more. To add the widget, call
<code><a href="../../reference/run_with_themer.html">bs_themer()</a></code> in a Shiny runtime content (i.e., within the
<code>server</code> function) and also make sure the app/document <a href="../any-project">uses <code>{bslib}</code> for it’s Bootstrap
dependency</a>.</p>
<div class="usage">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Shiny example</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/page_sidebar.html">page_sidebar</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">"My app"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../../reference/run_with_themer.html">bs_themer</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<pre><code># R Markdown example
---
runtime: shiny
output:
  html_document:
    theme:
      bslib: true
---

```{r}
bslib::bs_themer()
```
</code></pre>
</div>
<p>If you don’t have a particular app or document in mind, you can also
use <code><a href="../../reference/bs_theme_preview.html">bs_theme_preview()</a></code> to create a demo Shiny app with the
theming widget already overlayed (<a href="https://bslib.shinyapps.io/themer-demo" class="external-link">see here</a> for a hosted
version):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/bs_theme_preview.html">bs_theme_preview</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="themer.gif" alt="An animation showing bslib theming app. As the user changes the Bootswatch theme and Bootstrap settings, the app's appearance changes in real-time." width="100%" style="display: block; margin: auto;"></p>
<p>When running the theming widget locally, you’ll see output like this
in your R console (in R Markdown, you’ll see YAML output instead of R
code) to reproduce the theming changes:</p>
<p><img src="themer-code.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="bootswatch">Bootswatch themes<a class="anchor" aria-label="anchor" href="#bootswatch"></a>
</h2>
<p>Any <a href="https://bootswatch.com" class="external-link">Bootswatch</a> theme is
available through <code><a href="../../reference/bs_theme.html">bs_theme()</a></code>’s <code>bootswatch</code>
argument. You may already be familiar with using these “pre-packaged”
themes via the <a href="https://rstudio.github.io/shinythemes/" class="external-link">shinythemes</a> package (or via the
<code>theme</code> parameter in R Markdown). Those older approaches only
provide <a href="https://bootswatch.com/3" class="external-link">Bootswatch 3 themes</a>, but
with <a href="https://rstudio.github.io/bslib/">bslib</a>, you can use newer themes like <a href="https://bootswatch.com/minty" class="external-link">minty</a> or <a href="https://bootswatch.com/zephyr" class="external-link">zephyr</a>.</p>
<div class="usage">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Shiny example</span></span>
<span><span class="fu"><a href="../../reference/page_sidebar.html">page_sidebar</a></span><span class="op">(</span></span>
<span>  theme <span class="op">=</span> <span class="fu"><a href="../../reference/bs_theme.html">bs_theme</a></span><span class="op">(</span>bootswatch <span class="op">=</span> <span class="st">"minty"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># R Markdown example</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>output<span class="sc">:</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  html_document<span class="sc">:</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>    theme<span class="sc">:</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>      bootswatch<span class="sc">:</span> minty</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="sc">---</span></span></code></pre></div>
</div>
<p><img src="bootswatch.png" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="main-colors">Main colors &amp; fonts<a class="anchor" aria-label="anchor" href="#main-colors"></a>
</h2>
<p><code><a href="../../reference/bs_theme.html">bs_theme()</a></code> also provides named arguments for customizing
the main background color (<code>bg</code>), foreground color
(<code>fg</code>), accent colors (<code>primary</code>,
<code>secondary</code>, etc), and fonts (<code>base_font</code>,
<code>heading_font</code>, <code>code_font</code>, etc). Here’s an
example of using a subset of these named arguments to implement a dark
mode with custom fonts:</p>
<div class="usage">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Shiny example</span></span>
<span><span class="fu"><a href="../../reference/page_sidebar.html">page_sidebar</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">"My app"</span>,</span>
<span>  <span class="fu"><a href="../../reference/bs_theme.html">bs_theme</a></span><span class="op">(</span></span>
<span>    bg <span class="op">=</span> <span class="st">"#101010"</span>,</span>
<span>    fg <span class="op">=</span> <span class="st">"#FFF"</span>,</span>
<span>    primary <span class="op">=</span> <span class="st">"#E69F00"</span>,</span>
<span>    secondary <span class="op">=</span> <span class="st">"#0072B2"</span>,</span>
<span>    success <span class="op">=</span> <span class="st">"#009E73"</span>,</span>
<span>    base_font <span class="op">=</span> <span class="fu"><a href="../../reference/font_face.html">font_google</a></span><span class="op">(</span><span class="st">"Inter"</span><span class="op">)</span>,</span>
<span>    code_font <span class="op">=</span> <span class="fu"><a href="../../reference/font_face.html">font_google</a></span><span class="op">(</span><span class="st">"JetBrains Mono"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># R Markdown example</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>output<span class="sc">:</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>  html_document<span class="sc">:</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>    theme<span class="sc">:</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>      bg<span class="sc">:</span> <span class="st">"#101010"</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>      fg<span class="sc">:</span> <span class="st">"#FFF"</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>      primary<span class="sc">:</span> <span class="st">"#E69F00"</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>      secondary<span class="sc">:</span> <span class="st">"#0072B2"</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a>      success<span class="sc">:</span> <span class="st">"#009E73"</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a>      base_font<span class="sc">:</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a>        google<span class="sc">:</span> <span class="st">"Prompt"</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a>      code_font<span class="sc">:</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a>        google<span class="sc">:</span> <span class="st">"JetBrains Mono"</span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="sc">---</span></span></code></pre></div>
</div>
<p><img src="custom-dark-mode.png" width="100%" style="display: block; margin: auto;"></p>
<p>Among all the coloring options in <code><a href="../../reference/bs_theme.html">bs_theme()</a></code>,
<code>bg</code>, <code>fg</code>, and <code>primary</code> are by far
the most influential as they effect nearly every color on the page. In
fact, <code>bg</code> and <code>fg</code> alone impact 100s of defaults
— everything from text color, <code><a href="../../reference/card.html">card()</a></code>s,
<code><a href="../../reference/accordion.html">accordion()</a></code>s, and much more. The accent colors don’t impact
nearly as much, but <code>primary</code> does control the color for some
important things like hyperlinks, <code><a href="../../reference/navset.html">navset_pill()</a></code> links,
accent/focus colors for inputs, and more. That being said, other accent
colors can be handy for customizing things like
<code><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">shiny::actionButton()</a></code> (defaults to the
<code>secondary</code> color), <code><a href="https://rdrr.io/pkg/shiny/man/showNotification.html" class="external-link">shiny::showNotification()</a></code> ,
or more generally any HTML content that leverages <a href="https://getbootstrap.com/docs/5.0/utilities/colors/" class="external-link">Color Utility
Classes</a>.</p>
<div class="callout callout-note">
<h3 data-toc-skip>
Choosing colors
</h3>
<p>When choosing <code>bg</code> and <code>fg</code> colors, keep in
mind that it’s generally a good idea to pick colors with a similar hue
but a large difference in their luminance.</p>
</div>
<p><code><a href="../../reference/bs_theme.html">bs_theme()</a></code> also provides 3 named arguments for main
fonts: <code>base_font</code>, <code>heading_font</code>, and
<code>code_font</code>. When using <a href="https://www.w3schools.com/cssref/css_websafe_fonts.asp" class="external-link">web safe
font combinations</a>, it’s ok to provide a character string of
(comma-separated) font families to these arguments (e.g.,
<code>bs_theme(base_font = '"Times New Roman", Times, serif')</code>.
Otherwise, use one of the <code><a href="../../reference/font_face.html">font_google()</a></code>,
<code><a href="../../reference/font_face.html">font_link()</a></code>, and/or <code><a href="../../reference/font_face.html">font_face()</a></code> helpers to
include the relevant file(s) so the client’s browser may render the
font(s). <code><a href="../../reference/font_face.html">font_link()</a></code> and <code><a href="../../reference/font_face.html">font_face()</a></code> are
fairly low-level interfaces to <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Styling_text/Web_fonts" class="external-link">the
CSS web font API</a>, but <code><a href="../../reference/font_face.html">font_google()</a></code> has the additional
ability to download and cache font file(s), making it so that an
internet connection is needed only for the first time a particular font
is used.</p>
<div class="callout callout-note">
<h3 data-toc-skip>
Choosing fonts
</h3>
<p>When choosing fonts, keep in mind that it’s generally good practice
to put serif fonts in <code>base_font</code>, sans-serif fonts in
<code>heading_font</code>, and monospace fonts in
<code>code_font</code>. If you aren’t sure where to start, <a href="https://fontpair.co/all" class="external-link">fontpair.co has a nice gallery</a> of
Google Font pairings.</p>
</div>
</div>
<div class="section level2">
<h2 id="theming-variables">Theming variables<a class="anchor" aria-label="anchor" href="#theming-variables"></a>
</h2>
<p><code><a href="../../reference/bs_theme.html">bs_theme()</a></code> also provides access to 100s of more specific
<a href="../bs5-variables">theming options</a> by considering anything
passed through it’s <code>...</code> argument to be a new <a href="https://getbootstrap.com/docs/5.0/customize/sass/#variable-defaults" class="external-link">Bootstrap
Sass variable defaults</a>. This allows you to get more targetted with
your theming; for example, let’s set the <a href="../bs5-variables#progress-bar-bg"><code>$progress-bar-bg</code></a>
Sass variable to <code>'orange'</code> (a CSS color).</p>
<div class="usage">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Shiny example</span></span>
<span><span class="fu"><a href="../../reference/bs_theme.html">bs_theme</a></span><span class="op">(</span></span>
<span>  bg <span class="op">=</span> <span class="st">"#002B36"</span>, fg <span class="op">=</span> <span class="st">"#EEE8D5"</span>,</span>
<span>  <span class="st">"progress-bar-bg"</span> <span class="op">=</span> <span class="st">"orange"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># R Markdown example</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>output<span class="sc">:</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  html_document<span class="sc">:</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>    theme<span class="sc">:</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>      bg<span class="sc">:</span> <span class="st">"#002B36"</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>      fg<span class="sc">:</span> <span class="st">"#EEE8D5"</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>      progress<span class="sc">-</span>bar<span class="sc">-</span>bg<span class="sc">:</span> <span class="st">"orange"</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="sc">---</span></span></code></pre></div>
</div>
<p><img src="progress-orange.png" width="67%" style="display: block; margin: auto;"></p>
<p>In addition to CSS values (e.g., <code>"orange"</code>), a variable
can be any valid <a href="https://sass-lang.com/documentation/variables" class="external-link">Sass
expression</a>, which is quite useful for leveraging Sass’ built-in
module’s (e.g., <a href="https://sass-lang.com/documentation/modules/color#mix" class="external-link"><code>mix()</code>
for mixing colors</a>)</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/bs_theme.html">bs_theme</a></span><span class="op">(</span><span class="st">"progress-bar-bg"</span> <span class="op">=</span> <span class="st">"mix(white, orange, 20%)"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $progress-bar-bg: mix(white, orange, 20%) !default;</span></span>
<span><span class="co">#&gt; @import "scss/_variables.scss";</span></span></code></pre></div>
<p>Underneath the hood, <code><a href="../../reference/bs_theme.html">bs_theme()</a></code> works by placing <a href="https://sass-lang.com/documentation/variables#default-values" class="external-link">Sass
variable defaults</a> <em>before</em> Bootstrap’s variable defaults.
That’s why something like <code>bs_theme(primary = "red")</code> “just
works” in the sense that it not only provides <code>$primary</code> with
a new default value, but it also passes the value to other variables
that default to <code>$primary</code> (e.g. <a href="../bs5-variables#progress-bar-bg"><code>$progress-bar-bg</code></a>).</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Reduced version of the Sass code behind `bs_theme(primary = "red")`</span></span>
<span><span class="fu">sass</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/sass/reference/sass.html" class="external-link">sass</a></span><span class="op">(</span><span class="st">"</span></span>
<span><span class="st">  $primary: red !default; // First one wins</span></span>
<span><span class="st">  $primary: blue !default;</span></span>
<span><span class="st">  $progress-bar-bg: $primary !default;</span></span>
<span><span class="st">  @debug $primary, $progress-bar-bg;</span></span>
<span><span class="st">"</span><span class="op">)</span></span>
<span><span class="co">#&gt; red, red</span></span></code></pre></div>
<p>Since <code><a href="../../reference/bs_theme.html">bs_theme()</a></code> defines variables <em>before</em>
Bootstrap, we must define variables differently if they want to
reference Bootstrap’s Sass code. For example, what if we wanted
<code>$progress-bar-bg</code> to default to <code>$secondary</code>
instead of <code>$primary</code>?</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/bs_theme.html">bs_theme</a></span><span class="op">(</span><span class="st">"progress-bar-bg"</span> <span class="op">=</span> <span class="st">"$secondary"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">sass</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/sass/reference/sass.html" class="external-link">sass</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: Undefined variable: "$secondary".</span></span></code></pre></div>
<p>Thankfully <code><a href="../../reference/bs_bundle.html">bs_add_variables()</a></code> provides a workaround. By
default, <code><a href="../../reference/bs_bundle.html">bs_add_variables()</a></code> works just like
<code><a href="../../reference/bs_theme.html">bs_theme()</a></code> (it puts variable definitions before other Sass
code), but by with <code>.where = "declarations"</code>, we can place
the definition after Bootstrap:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/bs_theme.html">bs_theme</a></span><span class="op">(</span><span class="op">)</span>  <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../../reference/bs_bundle.html">bs_add_variables</a></span><span class="op">(</span></span>
<span>    <span class="st">"progress-bar-bg"</span> <span class="op">=</span> <span class="st">"$secondary"</span>,</span>
<span>    .where <span class="op">=</span> <span class="st">"declarations"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; @import "scss/_variables.scss";</span></span>
<span><span class="co">#&gt; $progress-bar-bg: $secondary;</span></span></code></pre></div>
<p>There’s currently no easy way to define variables this way in R
Markdown (other than using <code>!expr</code> to pass a
<code><a href="../../reference/bs_theme.html">bs_theme()</a></code> object directly into <code>theme</code>)</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>output<span class="sc">:</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  html_document<span class="sc">:</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>    theme<span class="sc">:</span> <span class="sc">!</span>expr bslib<span class="sc">::</span><span class="fu">bs_add_variables</span>(bslib<span class="sc">::</span><span class="fu">bs_theme</span>(), <span class="st">"progress-bar-bg"</span> <span class="ot">=</span> <span class="st">"$secondary"</span>, <span class="at">.where =</span> <span class="st">"declarations"</span>)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="add-rules">Adding rules<a class="anchor" aria-label="anchor" href="#add-rules"></a>
</h2>
<p>A good amount of theming is possible by customizing Bootstrap Sass
variables in <code><a href="../../reference/bs_theme.html">bs_theme()</a></code>, but sometimes you may also want to
add additional Sass/CSS rules. The <code><a href="../../reference/bs_bundle.html">bs_add_rules()</a></code> function
makes this easy for Shiny usage and generally accepts any valid Sass/CSS
(see <code><a href="https://rstudio.github.io/sass/reference/as_sass.html" class="external-link">sass::as_sass()</a></code>). For example, here’s how one could
add local SCSS/CSS files and/or Sass/CSS code in a string (the CSS file
in this case was taken from <a href="https://github.com/nostalgic-css/NES.css/" class="external-link">nes.css</a>)</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/bs_theme.html">bs_theme</a></span><span class="op">(</span></span>
<span>  bg <span class="op">=</span> <span class="st">"#e5e5e5"</span>, fg <span class="op">=</span> <span class="st">"#0d0c0c"</span>, primary <span class="op">=</span> <span class="st">"#dd2020"</span>,</span>
<span>  base_font <span class="op">=</span> <span class="fu"><a href="../../reference/font_face.html">font_google</a></span><span class="op">(</span><span class="st">"Press Start 2P"</span><span class="op">)</span>,</span>
<span>  code_font <span class="op">=</span> <span class="fu"><a href="../../reference/font_face.html">font_google</a></span><span class="op">(</span><span class="st">"Press Start 2P"</span><span class="op">)</span>,</span>
<span>  <span class="st">"font-size-base"</span> <span class="op">=</span> <span class="st">"0.75rem"</span>, <span class="st">"enable-rounded"</span> <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../../reference/bs_bundle.html">bs_add_rules</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="fu">sass</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/sass/reference/sass_import.html" class="external-link">sass_file</a></span><span class="op">(</span><span class="st">"nes.min.css"</span><span class="op">)</span>,</span>
<span>      <span class="fu">sass</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/sass/reference/sass_import.html" class="external-link">sass_file</a></span><span class="op">(</span><span class="st">"custom.scss"</span><span class="op">)</span>,</span>
<span>      <span class="st">"body { background-color: $body-bg; }"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="nes.png" width="100%" style="display: block; margin: auto;"></p>
<p>In the R Markdown case, it’s recommended that additional CSS (or
Sass) rules come through the <code>css</code> parameter, but you may
also use the <code>bslib</code> engine. As with
<code><a href="../../reference/bs_bundle.html">bs_add_rules()</a></code>, these rules can reference Bootstrap Sass
variables as well as utilize convenient Sass mixins or functions like <a href="https://github.com/rstudio/bslib/blob/c95d6b/inst/sass-utils/color-contrast.scss#L9" class="external-link"><code>color-contrast()</code></a>,
<a href="https://sass-lang.com/documentation/modules/color#mix" class="external-link"><code>mix()</code></a>,
etc.</p>
<pre><code>---
output:
  html_document:
    theme:
      bslib: true
    css: my-rules.scss
---

```{bslib}
$custom-bg: rgba($primary, 0.3);
.custom {
  background-color: $custom-bg;
  color: color-contrast(opaque($body-bg, $custom-bg))
}
```

::: {.custom}
Hello custom block with custom styles!
:::
</code></pre>
</div>
<div class="section level2">
<h2 id="utility-classes">Utility Classes<a class="anchor" aria-label="anchor" href="#utility-classes"></a>
</h2>
<p>Utility classes are primarily helpful for styling at the component
(rather than the page) level, and is particularly handy for things like
spacing, border, colors, and more. See the article on <a href="../utility-classes">Utility Classes</a> for some useful examples
specific to Shiny and R Markdown.</p>
</div>
<div class="section level2">
<h2 id="component-support">Component support<a class="anchor" aria-label="anchor" href="#component-support"></a>
</h2>
<p>Below is a list of known-to-be themeable HTML components that “just
work” well with custom real-time themes:</p>
<ul>
<li>
<p>All of “core” Shiny UI (e.g., <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html" class="external-link">sliderInput()</a></code>,
<code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html" class="external-link">selectInput()</a></code>, etc.)</p>
<ul>
<li>The one exception is <code><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html" class="external-link">plotOutput()</a></code>, but in that case, <a href="https://rstudio.github.io/thematic/articles/auto.html" class="external-link">the
<code>{thematic}</code> package can be used to essentially translate CSS
to R plot theming defaults</a>. Just put <code>thematic_shiny()</code>
in your Shiny apps and <code>thematic_rmd()</code> in your R Markdown
documents.</li>
</ul>
</li>
<li><p>All of <code><a href="https://pkgs.rstudio.com/rmarkdown/reference/html_document.html" class="external-link">rmarkdown::html_document()</a></code> specific <a href="https://bookdown.org/yihui/rmarkdown/html-document.html" class="external-link">features</a>
as well as <a href="https://flexdashboard-pkg.netlify.app/articles/theme.html" class="external-link"><code>{flexdashboard}</code></a>.</p></li>
<li><p>Any un-styled HTML content (e.g.,
<code>tags$input(type = "checkbox")</code>).</p></li>
<li><p>Some <a href="https://github.com/ramnathv/htmlwidgets" class="external-link">htmlwidgets</a> like <a href="https://github.com/rstudio/DT" class="external-link">DT</a> and
<a href="https://plotly-r.com" class="external-link">plotly</a> (only <code><a href="https://rdrr.io/pkg/plotly/man/ggplotly.html" class="external-link">ggplotly()</a></code> is supported through
<a href="https://rstudio.github.io/thematic/" class="external-link">thematic</a> right now)</p></li>
</ul>
<p>Over time, we’re hoping this list grows as package authors and
developers embrace <code>bslib</code>’s tools for making <a href="../custom-components">themeable custom components</a>.</p>
</div>
<div class="section level2">
<h2 id="dynamic">Dynamic theming<a class="anchor" aria-label="anchor" href="#dynamic"></a>
</h2>
<p>The functionality behind <a href="#real-time">real-time</a> theming
can be leveraged in any Shiny app (or <code>runtime:shiny</code> Rmd
doc) to implement your own custom theming widget (via
<code>session$setCurrentTheme()</code>), like a dark mode switch:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">light</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/bs_theme.html">bs_theme</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">dark</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/bs_theme.html">bs_theme</a></span><span class="op">(</span>bg <span class="op">=</span> <span class="st">"black"</span>, fg <span class="op">=</span> <span class="st">"white"</span>, primary <span class="op">=</span> <span class="st">"purple"</span><span class="op">)</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  theme <span class="op">=</span> <span class="va">light</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/checkboxInput.html" class="external-link">checkboxInput</a></span><span class="op">(</span><span class="st">"dark_mode"</span>, <span class="st">"Dark mode"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observe.html" class="external-link">observe</a></span><span class="op">(</span><span class="va">session</span><span class="op">$</span><span class="fu">setCurrentTheme</span><span class="op">(</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Logic.html" class="external-link">isTRUE</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">dark_mode</span><span class="op">)</span><span class="op">)</span> <span class="va">dark</span> <span class="kw">else</span> <span class="va">light</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p><img src="dark-mode.gif" width="50%" style="display: block; margin: auto;"></p>
<p>See the sections on <code>setCurrentTheme</code> and
<code>getCurrentTheme</code> <a href="https://shiny.rstudio.com/reference/shiny/1.6.0/session.html" class="external-link">here</a>
to learn more.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Carson Sievert, Joe Cheng, Garrick Aden-Buie, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
